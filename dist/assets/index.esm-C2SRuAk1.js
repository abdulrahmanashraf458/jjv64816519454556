import{n as h,r as e}from"./index-BvrGYwkU.js";var Tn=function(){return Tn=Object.assign||function(n){for(var l,o=1,i=arguments.length;o<i;o++)for(var f in l=arguments[o])Object.prototype.hasOwnProperty.call(l,f)&&(n[f]=l[f]);return n},Tn.apply(this,arguments)},Un=typeof window<"u"?h.useLayoutEffect:h.useEffect,je="index-module_slot_wrap__ZT-DX",qe="index-module_slot__DpPgW",De="index-module_separator__7GhtE",Ie="index-module_numbers__sqlqm",qn="index-module_num__j6XH3",Te="index-module_top_dummy_list__veRmf";(function(n,l){l===void 0&&(l={});var o=l.insertAt;if(typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",o==="top"&&i.firstChild?i.insertBefore(f,i.firstChild):i.appendChild(f),f.styleSheet?f.styleSheet.cssText=n:f.appendChild(document.createTextNode(n))}})(`.index-module_slot_wrap__ZT-DX {
  display: inline-block;
  white-space: nowrap;
}

.index-module_slot__DpPgW {
  display: inline-block;
  overflow: hidden;
  text-align: center;
  vertical-align: middle;
  will-change: transform;
}

.index-module_separator__7GhtE {
  display: inline-block;
  vertical-align: middle;
  text-align: center;
}

.index-module_numbers__sqlqm {
  display: block;
}

.index-module_num__j6XH3 {
  display: block;
}

.index-module_top_dummy_list__veRmf {
  position: absolute;
  top: 0;
  transform: translateY(-100%);
}

[aria-hidden=true] {
  user-select: none;
}`);var Le=[",","."," "],Fe=/\u0020/,Pe=/\u00A0/,We=/\u202F/,Be="slot-counter",Ve="slot-counter-separator",he="slot-counter-item",He="slot-counter-item-numbers",Dn="slot-counter-item-number",Ye="slot-counter-item-number-value",D=function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return n.filter(Boolean).join(" ")},fe=function(n,l){for(var o=[],i=n;i<l;i+=1)o.push(i);return o},me=function(n,l){for(var o=[],i=n;i!==l;)o.push(i),(i+=1)===10&&(i=0);return o},ve=function(n,l){var o=Math.random()*(l-n);return Math.floor(o+n)},pe=function(n){for(var l,o=function(I,C,w){for(var S,v=0,M=C.length;v<M;v++)!S&&v in C||(S||(S=Array.prototype.slice.call(C,0,v)),S[v]=C[v]);return I.concat(S||Array.prototype.slice.call(C))}([],n),i=o.length-1;i>0;i-=1){var f=Math.floor(Math.random()*(i+1));l=[o[f],o[i]],o[i]=l[0],o[f]=l[1]}return o},yn=function(n){return typeof n=="number"?n:(Array.isArray(n)?n.join(""):n).replace(/[,.]/g,"")},In=function(n){return typeof n!="object"&&!Number.isNaN(yn(n))},ge=function(n){return typeof n=="object"},Xe=function(n){return!ge(n)&&(Le.includes(n)||Fe.test(n)||Pe.test(n)||We.test(n))},ze=e.memo(e.forwardRef(function(n,l){var o,i,f=n.isNew,I=n.charClassName,C=n.numbersRef,w=n.active,S=n.isChanged,v=n.effectiveDuration,M=n.delay,V=n.duration,bn=n.speed,c=n.value,g=n.startValue,T=n.disableStartValue,_=n.dummyList,k=n.hasSequentialDummyList,Cn=n.hasInfiniteList,$=n.valueClassName,Sn=n.numberSlotClassName,N=n.numberClassName,E=n.reverse,L=n.sequentialAnimationMode,nn=n.useMonospaceWidth,_n=n.maxNumberWidth,en=n.onFontHeightChange,R=n.slotPeek,An=e.useState(!1),O=An[0],H=An[1],Nn=e.useState(c),x=Nn[0],Ln=Nn[1],F=e.useRef(),tn=e.useRef(c),P=e.useRef(null),rn=e.useState(0),A=rn[0],En=rn[1],W=e.useState(k?_:pe(_)),Rn=W[0],b=W[1],un=e.useState(!1),j=un[0],xn=un[1],on=A*(_.length+1);Un(function(){xn(!0)},[]),Un(function(){var p,m;En((m=(p=P.current)===null||p===void 0?void 0:p.getBoundingClientRect().height)!==null&&m!==void 0?m:0)},[j]),e.useEffect(function(){w?requestAnimationFrame(function(){H(w)}):H(w)},[w]),e.useEffect(function(){var p=P.current;if(A&&p&&typeof ResizeObserver<"u"){var m=new ResizeObserver(function(Pn){var ln=Pn[0].contentRect.height;Math.abs(A-ln)>1&&(en==null||en(ln))});return m.observe(p),function(){m.disconnect()}}},[A,en]),e.useMemo(function(){T&&(F.current=tn.current)},[T]),e.useEffect(function(){O&&(F.current=tn.current,tn.current=c,setTimeout(function(){return Ln(c)},L?0:v*bn*V*1e3/_.length+1e3*M))},[O,c,v,M,_.length,L,bn,V]),e.useEffect(function(){b(k?_:pe(_))},[_,k]),e.useImperativeHandle(l,function(){return{refreshStyles:function(){var p,m;H(!0),En((m=(p=P.current)===null||p===void 0?void 0:p.getBoundingClientRect().height)!==null&&m!==void 0?m:0),requestAnimationFrame(function(){H(!1)})}}});var Y=function(){return Rn.map(function(p,m){return h.createElement("span",{key:m,className:D(qn,N,Dn),"aria-hidden":"true"},p)})},X=E?x:g??x;L&&(X=E?x:(o=g??F.current)!==null&&o!==void 0?o:x,L&&f&&!E&&(X=""));var an=E&&g!=null?g:x;L&&(an=E&&(i=g??F.current)!==null&&i!==void 0?i:x);var Fn=e.useMemo(function(){if(j)return nn?_n:void 0},[j,_n,nn]),d=e.useMemo(function(){if(j)return R?A+2*R:A},[j,A,R]);return h.createElement("span",{className:D(qe,I,he),style:Tn({display:"inline-block",width:Fn,height:d},R&&{paddingTop:R,paddingBottom:R})},h.createElement("span",{ref:C,className:D(Ie,Sn,He),style:Tn({transition:"none",transform:E?"translateY(-".concat(on,"px)"):"translateY(0px)"},O&&S&&{transform:E?"translateY(0px)":"translateY(-".concat(on,"px)"),transition:"transform ".concat(v,"s ").concat(M,"s ease-in-out")})},j?h.createElement(h.Fragment,null,R&&h.createElement("div",{className:Te},Y()),h.createElement("span",{className:D(qn,N,Dn),"aria-hidden":"true",style:{height:A}},X),Y(),h.createElement("span",{className:D(qn,N,$,Dn,Ye),ref:P},an),Cn||R?Y():null):h.createElement("span",{className:D(qn,N,Dn),"aria-hidden":"true"},g??x)))})),Ze=e.memo(e.forwardRef(function(n,l){var o,i,f,I,C,w,S,v,M,V,bn=n.value,c=n.startValue,g=n.startValueOnce,T=g!==void 0&&g,_=n.duration,k=_===void 0?.7:_,Cn=n.speed,$=Cn===void 0?1.4:Cn,Sn=n.delay,N=n.dummyCharacters,E=n.dummyCharacterCount,L=E===void 0?6:E,nn=n.autoAnimationStart,_n=nn===void 0||nn,en=n.containerClassName,R=n.charClassName,An=n.separatorClassName,O=n.valueClassName,H=n.numberSlotClassName,Nn=n.numberClassName,x=n.animateUnchanged,Ln=x!==void 0&&x,F=n.hasInfiniteList,tn=F!==void 0&&F,P=n.sequentialAnimationMode,rn=P!==void 0&&P,A=n.useMonospaceWidth,En=A!==void 0&&A,W=n.direction,Rn=n.debounceDelay,b=n.animateOnVisible,un=n.startFromLastDigit,j=un!==void 0&&un,xn=n.onAnimationStart,on=n.onAnimationEnd,Y=n.separatorCharacters,X=n.isSeparatorCharacter,an=X===void 0?Xe:X,Fn=n.slotPeek,d=function(t,r){var u=e.useState(t),s=u[0],a=u[1];return e.useEffect(function(){if(r===0)return a(t);var y=setTimeout(function(){a(t)},r);return function(){clearTimeout(y)}},[t,r]),s}(bn,Rn??0),p=e.useMemo(function(){return function(t){return Array.isArray(t)&&ge(t[0])}(d)?"":typeof d=="object"?JSON.stringify(d):d.toString()},[d]),m=e.useState(!1),Pn=m[0],ln=m[1],z=e.useRef(),G=e.useRef(null),sn=e.useRef(null),wn=e.useRef(c),Kn=e.useRef([]),Wn=e.useMemo(function(){return typeof b=="boolean"?b:typeof b=="object"||void 0},[b]),Qn=e.useMemo(function(){return typeof b=="object"?b.rootMargin:void 0},[b]),$n=e.useMemo(function(){return typeof b=="object"?b.triggerOnce:void 0},[b]),Bn=e.useRef(!0),B=!Wn&&_n,Z=e.useRef(c==null||B?d:c),q=e.useRef(c),cn=e.useRef(0),Mn=e.useRef(0),ne=e.useState([]),ye=ne[0],be=ne[1],Vn=e.useRef(),ee=e.useState(0),Ce=ee[0],Se=ee[1],te=e.useState(),_e=te[0],Ae=te[1],dn=e.useRef(!1),Hn=c!=null&&(!T||cn.current<1),re=(i=(o=z.current)===null||o===void 0?void 0:o.dummyCharacterCount)!==null&&i!==void 0?i:L,Yn=(I=(f=z.current)===null||f===void 0?void 0:f.duration)!==null&&I!==void 0?I:k,Xn=e.useRef({onAnimationStart:xn,onAnimationEnd:on});Xn.current={onAnimationStart:xn,onAnimationEnd:on};var zn=e.useRef(!1),kn=e.useCallback(function(){var t=sn.current;if(t){var r=fe(0,10).map(function(s){var a=document.createElement("span");a.className=O??"",a.style.position="absolute",a.style.top="0",a.style.left="-9999px",a.style.visibility="hidden",a.textContent=s.toString(),t.appendChild(a);var y=a.getBoundingClientRect().width;return t.removeChild(a),y}),u=Math.max.apply(Math,r);Ae(u)}},[O]);Un(function(){var t;kn(),(t=document.fonts)===null||t===void 0||t.ready.then(function(){kn()})},[]),e.useEffect(function(){be(fe(0,re*k*$-1).map(function(t){if(!N)return ve(0,10);var r=t>=N.length?ve(0,N.length):t;return N[r]}))},[N,re,$,k]),Z.current!==d&&dn.current&&Mn.current>0&&(q.current=Z.current,Z.current=d);var ue=Array.isArray(q.current)?q.current:(w=(C=q.current)===null||C===void 0?void 0:C.toString().split(""))!==null&&w!==void 0?w:[],fn=Array.isArray(Z.current)?Z.current:(v=(S=Z.current)===null||S===void 0?void 0:S.toString().split(""))!==null&&v!==void 0?v:[],Ne=Array.isArray(wn.current)?wn.current:(V=(M=wn.current)===null||M===void 0?void 0:M.toString().split(""))!==null&&V!==void 0?V:[],Gn=e.useMemo(function(){return Array.isArray(d)?d:d==null?void 0:d.toString().split("")},[d]),mn=e.useMemo(function(){return Array.isArray(c)?c:c==null?void 0:c.toString().split("")},[c]),Ee=ue.length!==fn.length,On=[];fn.forEach(function(t,r){var u=fn.length-r-1,s=Hn?Ne:ue;(fn[u]!==s[u]||Ee||Ln)&&On.push(u)}),j||On.reverse();var Re=e.useMemo(function(){return Sn||Math.min(.1,Yn/Gn.length)},[Yn,Gn.length,Sn]),jn=e.useCallback(function(){var t,r,u;(r=(t=Xn.current).onAnimationEnd)===null||r===void 0||r.call(t),zn.current=!1,(u=sn.current)===null||u===void 0||u.removeEventListener("transitionend",jn)},[]),J=e.useCallback(function(){var t,r,u;Vn.current&&window.cancelAnimationFrame(Vn.current),zn.current&&jn(),zn.current=!0,(t=sn.current)===null||t===void 0||t.addEventListener("transitionend",jn),(u=(r=Xn.current).onAnimationStart)===null||u===void 0||u.call(r),ln(!1),cn.current=Mn.current,cn.current+=1,window.requestAnimationFrame(function(){var s;(s=sn.current)===null||s===void 0||s.offsetWidth,Vn.current=requestAnimationFrame(function(){Mn.current+=1,ln(!0)})})},[jn]),xe=e.useCallback(function(t){var r,u,s=Hn?c:q.current;if(s==null||!In(s)||!In(d))return[];var a=s.toString().length,y=d.toString().length,pn=a<y,hn=Math.abs(a-y),K=Number(yn(s.toString())),gn=Number(yn(d.toString())),Q=Number(K.toString()[pn?-hn+t:hn+t]||0),Jn=Number(gn.toString()[t]||0);if(Jn===Q)return[];var ce=K<gn,de=ce?me((Q+1)%10,Jn):me((Jn+1)%10,Q);return((u=(r=z.current)===null||r===void 0?void 0:r.direction)!==null&&u!==void 0?u:W)!=="bottom-up"||ce?de:de.reverse()},[Hn,d,c,W]),vn=e.useCallback(function(){Kn.current.forEach(function(t){t.refreshStyles()}),kn()},[kn]);e.useEffect(function(){(dn.current||q.current!=null)&&(dn.current||wn.current==null)&&(dn.current||B)&&J()},[p,J,B]),e.useEffect(function(){B&&J()},[B,J]),e.useEffect(function(){requestAnimationFrame(function(){dn.current=!0})},[]),e.useImperativeHandle(l,function(){return{startAnimation:Zn,refreshStyles:vn,reload:function(){return Se(function(t){return t+1})}}});var U=c==null||B||cn.current!==0?Gn:mn||[],we=((mn==null?void 0:mn.length)||0)-U.length,ie=function(t){var r,u=e.useRef(t),s=e.useRef(u.current),a=t.join(","),y=(r=u.current)===null||r===void 0?void 0:r.join(",");return e.useEffect(function(){y!==a&&(s.current=(y==null?void 0:y.split(","))||[],u.current=a.split(","))},[a,y]),{getPrevDependencies:e.useCallback(function(){return s.current},[]),setPrevDependenciesToSameAsCurrent:e.useCallback(function(){s.current=u.current},[])}}(U),Me=ie.getPrevDependencies,oe=ie.setPrevDependenciesToSameAsCurrent,ae=U.length-Me().length,Zn=e.useCallback(function(t){c==null||T||(q.current=void 0),z.current=t,J(),oe()},[c,T,J,oe]),ke=e.useMemo(function(){return function(t,r){var u;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];clearTimeout(u),u=setTimeout(function(){t.apply(void 0,s)},r)}}(function(){vn()},0)},[vn]);e.useEffect(function(){if(G.current&&window.IntersectionObserver){var t=new IntersectionObserver(function(r){r[0].isIntersecting&&vn()});return t.observe(G.current),function(){return t.disconnect()}}},[vn]),e.useEffect(function(){if(Wn&&G.current&&window.IntersectionObserver){var t=new IntersectionObserver(function(u){u[0].isIntersecting&&Bn.current&&(Zn(),Bn.current=!1,$n&&(t.disconnect(),r.disconnect()))},{rootMargin:Qn,threshold:1}),r=new IntersectionObserver(function(u){u[0].isIntersecting||(Bn.current=!0)},{threshold:0});return t.observe(G.current),r.observe(G.current),function(){t.disconnect(),r.disconnect()}}},[Wn,Qn,$n,Zn]);var le=function(t){return Y&&typeof t=="string"?Y.includes(t):an!==null&&an(t)},Oe=On.filter(function(t){return!le(U[t])}),se=-1;return h.createElement("span",{key:Ce,ref:G,className:D(en,je,Be)},U.map(function(t,r){var u,s,a=On.includes(r),y=(a?Oe.indexOf(r):0)*Re,pn=q.current,hn=c!=null&&!!T&&cn.current>1,K=d!=null&&pn!=null&&In(d)&&In(pn)&&yn(d)<yn(pn);if(!((u=z.current)===null||u===void 0)&&u.direction&&(K=((s=z.current)===null||s===void 0?void 0:s.direction)==="top-down"),W&&(K=W==="top-down"),le(t))return h.createElement("span",{key:fn.length-r-1,className:D(De,An,he,Ve)},t);var gn=rn&&(!B||Mn.current>1);return se+=1,h.createElement(ze,{key:U.length-r-1,index:r,isNew:ae>0&&r<ae,maxNumberWidth:_e,numbersRef:sn,active:Pn,isChanged:a,charClassName:R,effectiveDuration:Yn,delay:y,value:t,startValue:hn||mn==null?void 0:mn[r+we],disableStartValue:hn,dummyList:gn?xe(se):ye,hasSequentialDummyList:gn,hasInfiniteList:tn,valueClassName:O,numberSlotClassName:H,numberClassName:Nn,reverse:K,sequentialAnimationMode:rn,useMonospaceWidth:En,onFontHeightChange:ke,speed:$,duration:k,slotPeek:Fn,ref:function(Q){Q&&Kn.current.push(Q)}})}))}));export{Ze as default};
